<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fbsplash-users] switching to silent inside initrd stopped	working
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fbsplash-users/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:fbsplash-users%40lists.berlios.de?Subject=Re%3A%20%5Bfbsplash-users%5D%20switching%20to%20silent%20inside%20initrd%20stopped%0A%09working&In-Reply-To=%3C5d9b736f0909300059w601c3df1ha9a4caa7aaa1fe97%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000074.html">
   <LINK REL="Next"  HREF="000076.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fbsplash-users] switching to silent inside initrd stopped	working</H1>
    <B>Michal Januszewski</B> 
    <A HREF="mailto:fbsplash-users%40lists.berlios.de?Subject=Re%3A%20%5Bfbsplash-users%5D%20switching%20to%20silent%20inside%20initrd%20stopped%0A%09working&In-Reply-To=%3C5d9b736f0909300059w601c3df1ha9a4caa7aaa1fe97%40mail.gmail.com%3E"
       TITLE="[fbsplash-users] switching to silent inside initrd stopped	working">michalj at gmail.com
       </A><BR>
    <I>Wed Sep 30 09:59:01 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000074.html">[fbsplash-users] switching to silent inside initrd stopped working
</A></li>
        <LI>Next message: <A HREF="000076.html">[fbsplash-users] switching to silent inside initrd stopped working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75">[ date ]</a>
              <a href="thread.html#75">[ thread ]</a>
              <a href="subject.html#75">[ subject ]</a>
              <a href="author.html#75">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Sep 30, 2009 at 04:00, John Stile &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fbsplash-users">john at stilen.com</A>&gt; wrote:

&gt;<i> Is there a good reference or script for what I need in my custom
</I>&gt;<i> linuxrc, to smoothly get from grub though init without seeing any text?
</I>
If there is, it's someone's custom script as well.  The officially
supported distros (Gentoo, Debian) use a slightly different setup than
what you had, so they probably won't be very useful.


&gt;<i> This is what I now have in linuxrc now:
</I>&gt;<i> . /sbin/splash-functions.sh
</I>&gt;<i> splash_setup
</I>
OK.

&gt;<i> fbcondecor_supported
</I>
This doesn't do anything.

&gt;<i> fbcondecor_helper
</I>
Since you are calling the splash helper here, it will only paint the
silent splash image.  If it doesn't even do that, try
'fbcondecor_heleper 2 init' instead.  Since this only paints the image
and exits, any further error messages will not be properly hidden.

&gt;<i> fbcondecor_set_theme my_splash
</I>
OK.

&gt;<i> splash_comm_send &quot;set mode silent&quot;
</I>
This doesn't do anything since the splash daemon is not running at
this point (you didn't start it).

&gt;<i> This is what did work before my system upgrade, but doesn't work now:
</I>&gt;<i> . /sbin/splash-functions.sh
</I>&gt;<i> splash_setup
</I>&gt;<i> BOOT_MSG=&quot;$(splash_get_boot_message)&quot; ${spl_daemon} --theme=&quot;${SPLASH_THEME}&quot; --pidfile=&quot;${spl_pidfile}&quot; --type=${ttype} ${options}
</I>&gt;<i> splash_comm_send &quot;set tty silent ${SPLASH_TTY}&quot;
</I>&gt;<i> splash_comm_send &quot;Initializing system...&quot;
</I>&gt;<i> splash_comm_send &quot;repaint&quot;
</I>
That looks like a more correct way of doing things, since you're
starting the splash daemon, which guarantees that any error messages
will be hidden, and the screen will be properly repainted if
necessary.  What happens if you try to use this old script after the
system upgrade?  Is the splash picture displayed at all?  Do you see
any error messages?

Best regards,
-- 
Michal Januszewski, Gentoo Linux Developer
<A HREF="http://people.gentoo.org/spock">http://people.gentoo.org/spock</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000074.html">[fbsplash-users] switching to silent inside initrd stopped working
</A></li>
	<LI>Next message: <A HREF="000076.html">[fbsplash-users] switching to silent inside initrd stopped working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75">[ date ]</a>
              <a href="thread.html#75">[ thread ]</a>
              <a href="subject.html#75">[ subject ]</a>
              <a href="author.html#75">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fbsplash-users">More information about the fbsplash-users
mailing list</a><br>
</body></html>
